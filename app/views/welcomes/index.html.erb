<p id="notice"><%= notice %></p>

<h1>Welcomes</h1>

<table>
  <thead>
    <tr>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @welcomes.each do |welcome| %>
      <tr>
        <td><%= link_to 'Show', welcome %></td>
        <td><%= link_to 'Edit', edit_welcome_path(welcome) %></td>
        <td><%= link_to 'Destroy', welcome, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Welcome', new_welcome_path %>

<p>

<script>
  function displayConsentConfirmation() {
    let el = document.createElement('p'),
      txt = document.createTextNode('COOKIE CONSENT AUTHORIZED'),
      consentDiv = document.getElementById('consent');
      el.appendChild(txt);
      consent.appendChild(el);
  }

  function displayConsentButton() {
    if (getCookie('consentGranted') != '1')
    {
      let el = document.createElement('button'),
        txt = document.createTextNode(" ALLOW COOKIES "),
        consentDiv = document.getElementById('consent');
      el.appendChild(txt);
      consent.appendChild(el);
      el.addEventListener('click', function() {
        consentGranted();
        displayConsentConfirmation();
      });
    } else {
      displayConsentConfirmation();
    }
  }
</script>
<div id="consent">
  <script>displayConsentButton();</script>
  <!--
  <button onclick="consentGranted()"> ALLOW COOKIES </button>
  -->
</div>